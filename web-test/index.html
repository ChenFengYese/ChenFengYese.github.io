<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script>
    <style>
        /* Make the body and div full screen */
        html,body{
            height: 100%;
        }
        body{
            background-image: url("https://th.bing.com/th/id/R.092f5197b726325d3650400c86b1a78a?rik=BTUEO8uq7XaDeA&riu=http%3a%2f%2fi1.hdslb.com%2fbfs%2farchive%2f5c7a9e7b28d3cc3f9cdafc42cd0f6b2d0b87e727.jpg&ehk=2sH6%2f4J9H9MDqeHcdLxxAQi9ee6%2bBdl6PyUWqNZ%2fDXE%3d&risl=&pid=ImgRaw&r=0");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }
        /* Remove the scroll bar on the right */
        body::-webkit-scrollbar{
            display: none;
        }


        /* Set up the login page and sign-up page */
        form{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            width: 430px;
            height: 390px;
            background: rgba(0,0,0,0.5);
            padding: 40px;
            box-sizing: border-box;
            box-shadow: 0 15px 25px rgba(0,0,0,0.5);
            border-radius: 10px;
        }
        /* Set up the login page and sign-up page title */
        form h1{
            margin: 0 0 30px;
            padding: 0;
            color: #fff;
            text-align: center;
        }
        /* Set up the login page and sign-up page input box */
        form input{
            width: 100%;
            margin-bottom: 20px;
        }
        /* Set up the login page and sign-up page input box */
        form input[type="text"], form input[type="password"]{
            border: none;
            border-bottom: 1px solid #fff;
            background: transparent;
            outline: none;
            height: 40px;
            color: #fff;
            font-size: 16px;
        }
        /* Set up the login page and sign-up page input box placeholder */
        form input[type="text"]::placeholder, form input[type="password"]::placeholder{
            color: rgba(255,255,255,0.5);
        }
        /* Set up the login page and sign-up page input box */
        form input[type="submit"]{
            border: none;
            outline: none;
            height: 40px;
            background: #ccc;
            color: #fff;
            font-size: 18px;
            border-radius: 20px;
        }
        /* Set up the login page and sign-up page input box */
        form input[type="submit"]:hover{
            cursor: pointer;
            background: #ffc107;
            color: #000;
        }
        /* Set the switch button as a small slider on the right side, Hide a third of the buttons,When sliding to the button, all button interfaces are displayed */
        .toggle-btn{
            position: absolute;
            top: 50%;
            right: 0;
            transform: translate(-50%,-50%);
            width: 30px;
            height: 30px;
            background: #fb2525;
            border-radius: 50%;
            overflow: hidden;
            transition: 0.5s;
        }
        /* Move the mouse into the full screen of the display button, and move it out to show a third of the screen*/
        .toggle-btn:hover{
            width: 100px;
        }
        /* Set the switch button as a small slider on the right side, Hide a third of the buttons,When sliding to the button, all button interfaces are displayed */
        .toggle-btn span{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            transition: 0.5s;
        }
        /* When the mouse moves over the button, the pointer style changes */
        .toggle-btn:hover span{
            opacity: 1;
        }
        /* When the mouse moves over the button, the pointer style changes */
        .toggle-btn:hover::before{
            width: 100%;
        }
        /* When the mouse moves over the button, the pointer style changes */
        .toggle-btn::before{
            position: absolute;
            top: 0;
            left: 0;
            width: 30px;
            height: 100%;
            background: #ffc107;
            transition: 0.5s;
        }
        .Login::before{
            content: "Login";

        }
        .SignUp::before{
            content: "Sign Up";
        }
        /* The page is not affected by mouse scrolling */
        body{
            overflow: hidden;
        }
    </style>
</head>
<body>

<!--    Set up a login page-->
    <form action="javascript:login()" method="post">
        <!-- This is the login page, the default display -->
        <!-- Explain to the user that this is the login screen -->
        <h1>Login</h1>
        <label for="username">Username:</label>
        <input type="text" id="username" name="username">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
        <input id="submit" type="submit" value="Submit" disabled>
    </form>
    <!-- set up a sign-up page -->
    <form action="javascript:signup()" method="post" style="display: none">
        <!-- This is the sign-up page, the default is not displayed -->
        <!-- Explain to the user that this is the sign-up screen -->
        <h1>Sign Up</h1>
        <label for="username">Username:</label>
        <input type="text" id="usernameUp" name="username">
        <label for="password">Password:</label>
        <input type="password" id="passwordUp" name="password">
        <input id="submitup" type="submit" value="Submit" disabled>
    </form>
    <!-- To achieve a login page and registration page switch button -->
    <button class="toggle-btn Login" onclick="ChangeTologinPage()" id="ChangeToLoginPage" style="display: none"></button>
    <button class="toggle-btn SignUp" onclick="ChangeToSignUpPage()" id="ChangeToSignUpPage"></button>


<script>
    <!-- Disable the right mouse button -->
    document.oncontextmenu = function(){
        return false;
    }

    <!--Implementation of switching to the login page-->
    function ChangeTologinPage(){
        document.getElementsByTagName("form")[0].style.display = "block";
        document.getElementsByTagName("form")[1].style.display = "none";
        document.getElementById("ChangeToLoginPage").style.display = "none";
        document.getElementById("ChangeToSignUpPage").style.display = "block";

    }
    <!--Implementation of switching to the sign-up page-->
    function ChangeToSignUpPage(){
        document.getElementsByTagName("form")[0].style.display = "none";
        document.getElementsByTagName("form")[1].style.display = "block";
        document.getElementById("ChangeToSignUpPage").style.display = "none";
        document.getElementById("ChangeToLoginPage").style.display = "block";

    }

    <!--Implementation signup method-->
    function signup(){
        var username = document.getElementById("usernameUp").value;
        var password = document.getElementById("passwordUp").value;
        var data = "username="+username+"&password="+password;
        var xhr = new XMLHttpRequest();
        xhr.open("POST","signup",true);
        xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xhr.onreadystatechange = function(){
            if(xhr.readyState == 4 && xhr.status == 200){
                var result = xhr.responseText;
                if(result == "success"){
                    alert("Sign up success!");
                }else{
                    alert("Sign up failed!");
                }
            }
        }
        xhr.send(data);
    }
    <!-- Use ajax to implement the login function -->
    function login(){
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        console.log(username+' '+password);
        $.ajax({
            // 设置ajax的参数
            // 请求数据的url地址：接口地址
            url: 'https://www.lbservice.top/wxse/login',
            // 请求数据方式：get  post
            type: 'post',
            // data:发送给接口的数据
            data:{"id":username,"password":password},
            // 请求成功之后要执行的回调函数
            success: function (dat) {
                //dat:服务端返回的数据
                console.log(dat)
                $.ajax({
                    // 设置ajax的参数
                    // 请求数据的url地址：接口地址
                    url: 'https://www.lbservice.top/secure/getUserInfo',
                    // 请求数据方式：get  post
                    type: 'post',
                    headers: {
                        'Authorization': dat
                    },
                    success: function (dat) {
                        //dat:服务端返回的数据
                        console.log("data "+dat)
                        console.log(dat.split(',')[0].split('=')[1])
                        id = dat.split(',')[0].split('=')[1]
                        // // Store the id returned by the server in the cookie
                        document.location.href = "NotBook.html?" + id;
                    },
                    // 请求失败
                    error: function (e) {
                        alert('请求失败')
                    }
                })
            },
            // 请求失败
            error: function (e) {
                console.log(e)
                alert('请求失败')
            }
        })

    }
    //
    // <!--Implementation login method-->
    // function login(){
    //     var username = document.getElementById("username").value;
    //     var password = document.getElementById("password").value;
    //     console.log(username+' '+password);
    //     var data = "id="+username+"&password="+password;
    //     var xhr = new XMLHttpRequest();
    //     xhr.open("post","https://www.lbservice.top/wxse/login",true);
    //     xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
    //     xhr.onreadystatechange = function(){
    //         console.log("==========responseText:"+xhr.responseText)
    //
    //         if(xhr.readyState == 4 && xhr.status == 200){
    //             var result = xhr.responseText;
    //             if(result !== "login failure"){
    //                 var xhrr = new XMLHttpRequest();
    //                 xhrr.open("post","https://www.lbservice.top/secure/getUserInfo",true);
    //                 xhrr.setRequestHeader("Authorization",result);
    //                 xhrr.onreadystatechange = function(){
    //                     if(xhrr.readyState == 4 && xhrr.status == 200){
    //                         var result = xhr.responseText;
    //                         console.log(result);
    //                         if(result !== ""){
    //                             alert("Login success!");
    //                         }else{
    //                             alert("Login failed!");
    //                         }
    //                     }
    //                     else if(xhrr.readyState == 4 && xhrr.status == 404){
    //                         alert("404");
    //                     }
    //                     else if(xhrr.readyState == 4 && xhrr.status == 500){
    //                         alert("500");
    //                     }
    //                     else if(xhrr.readyState == 4 && xhrr.status == 403){
    //                         alert("403");
    //                     }
    //                     else if(xhrr.readyState == 4 && xhrr.status == 400){
    //                         alert("400");
    //                     }
    //                     else if(xhrr.readyState == 4 && xhrr.status == 401){
    //                         alert("401");
    //                     }
    //                 }
    //                 xhrr.send(result.data);
    //             }else{
    //                 alert("Login failed!");
    //             }
    //         }
    //         else if(xhr.readyState == 4 && xhr.status == 404){
    //             alert("404");
    //         }
    //         else if(xhr.readyState == 4 && xhr.status == 500){
    //             alert("500");
    //         }
    //         else if(xhr.readyState == 4 && xhr.status == 403){
    //             alert("403");
    //         }
    //         else if(xhr.readyState == 4 && xhr.status == 400){
    //             alert("400");
    //         }
    //         else if(xhr.readyState == 4 && xhr.status == 401){
    //             alert("401");
    //         }
    //     }
    //     xhr.send(data);
    // }
    <!-- Monitor whether the account password is empty in real time. If yes, set the login and registration button as forbidden to click -->
    function check(){
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        var usernameUp = document.getElementById("usernameUp").value;
        var passwordUp = document.getElementById("passwordUp").value;
        if(username == "" || password == ""){
            document.getElementById("submit").disabled = true;
            document.getElementById("submit").style.backgroundColor = "#ccc";
        }else{
            document.getElementById("submit").disabled = false;
            document.getElementById("submit").style.backgroundColor = "#fb2525";
        }
        if(usernameUp == "" || passwordUp == ""){
            document.getElementById("submitup").disabled = true;
            document.getElementById("submitup").style.backgroundColor = "#ccc";
        }else{
            document.getElementById("submitup").disabled = false;
            document.getElementById("submitup").style.backgroundColor = "#fb2525";
        }
    }
    <!-- Monitor the input box in real time, and call the check method to check whether the account password is empty -->
    document.getElementById("username").addEventListener("input",check);
    document.getElementById("password").addEventListener("input",check);
    document.getElementById("usernameUp").addEventListener("input",check);
    document.getElementById("passwordUp").addEventListener("input",check);






</script>




</body>
</html>
